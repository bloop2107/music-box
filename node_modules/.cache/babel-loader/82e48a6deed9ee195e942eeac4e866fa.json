{"ast":null,"code":"var _jsxFileName = \"/home/jackymad/reacjs/efe-music/src/components/MusicBox/VideoPlay.js\",\n    _s = $RefreshSig$();\n\nimport ReactPlayer from \"react-player\";\nimport { useState, useEffect, useContext } from \"react\";\nimport Playbar from \"./Playbar\";\nimport loading from \"../../asset/images/loading.svg\";\nimport Box from \"@material-ui/core/Box\";\nimport { AppProvider } from \"../../Context/AppProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst VideoPlay = ({\n  activeVideoId,\n  mainVideo,\n  nextActive\n}) => {\n  _s();\n\n  const urlUtube = \"https://www.youtube.com/watch?v=\";\n  const {\n    videos\n  } = useContext(AppProvider);\n  const [activeVideo, setActiveVideo] = useState({\n    url: null,\n    pip: false,\n    playing: false,\n    controls: false,\n    light: false,\n    volume: 0.8,\n    muted: false,\n    played: 0,\n    loaded: 0,\n    duration: 0,\n    playbackRate: 1.0,\n    loop: false\n  });\n  useEffect(() => {\n    setActiveVideo({ ...activeVideo,\n      url: `https://www.youtube.com/watch?v=${activeVideoId}`\n    });\n  }, [activeVideoId]);\n  const currVidIndex = mainVideo.findIndex(video => urlUtube + video.videoId === activeVideo.url);\n\n  const onEnded = () => {\n    if (currVidIndex < mainVideo.length) {\n      setActiveVideo({ ...activeVideo,\n        url: mainVideo[currVidIndex + 1] ? urlUtube + mainVideo[currVidIndex + 1].videoId : urlUtube + mainVideo[0].videoId\n      });\n    }\n\n    nextActive(mainVideo[currVidIndex + 1] ? mainVideo[currVidIndex + 1].videoId : mainVideo[0].videoId);\n  };\n\n  const onPaused = () => {\n    setActiveVideo({ ...activeVideo,\n      playing: false\n    });\n  };\n\n  const onPlayed = () => {\n    setActiveVideo({ ...activeVideo,\n      playing: true\n    });\n  };\n\n  const onPause = () => {\n    setActiveVideo({ ...activeVideo,\n      playing: false\n    });\n  };\n\n  const onPlay = () => {\n    if (mainVideo.length > 0) {\n      if (activeVideoId) {\n        setActiveVideo({ ...activeVideo,\n          playing: true\n        });\n      } else {\n        setActiveVideo({ ...activeVideo,\n          url: urlUtube + mainVideo[0].videoId,\n          playing: true\n        });\n        nextActive(mainVideo[0].videoId);\n      }\n    }\n  };\n\n  const onNext = () => {\n    setActiveVideo({ ...activeVideo,\n      url: mainVideo[currVidIndex + 1] ? urlUtube + mainVideo[currVidIndex + 1].videoId : null\n    });\n    nextActive(mainVideo[currVidIndex + 1] ? mainVideo[currVidIndex + 1].videoId : mainVideo[0].videoId);\n  };\n\n  const onPrev = () => {\n    if (currVidIndex > 0) {\n      setActiveVideo({ ...activeVideo,\n        url: mainVideo[currVidIndex - 1] ? urlUtube + mainVideo[currVidIndex - 1].videoId : null\n      });\n    }\n\n    nextActive(mainVideo[currVidIndex - 1] ? mainVideo[currVidIndex - 1].videoId : mainVideo[0].videoId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [activeVideoId ? /*#__PURE__*/_jsxDEV(ReactPlayer, {\n      width: \"100%\",\n      height: \"250px\",\n      url: activeVideo.url,\n      pip: activeVideo.pip,\n      playing: activeVideo.playing,\n      controls: activeVideo.controls,\n      light: activeVideo.light,\n      volume: activeVideo.volume,\n      muted: activeVideo.muted,\n      played: activeVideo.played,\n      loaded: activeVideo.loaded,\n      duration: activeVideo.duration,\n      playbackRate: activeVideo.playbackRate,\n      loop: activeVideo.loop,\n      onEnded: onEnded,\n      onPause: onPaused,\n      onPlay: onPlayed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      padding: \"20px\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      height: \"250px\",\n      border: \"1px solid #f9982d\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loading,\n        alt: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Playbar, {\n      activeVideo: activeVideo,\n      onPrev: onPrev,\n      onNext: onNext,\n      onPause: onPause,\n      onPlay: onPlay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VideoPlay, \"ceY9GNUMhFi3IY4mJcaN8qWU4t4=\");\n\n_c = VideoPlay;\nexport default VideoPlay;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoPlay\");","map":{"version":3,"sources":["/home/jackymad/reacjs/efe-music/src/components/MusicBox/VideoPlay.js"],"names":["ReactPlayer","useState","useEffect","useContext","Playbar","Box","AppProvider","VideoPlay","activeVideoId","mainVideo","nextActive","urlUtube","videos","activeVideo","setActiveVideo","url","pip","playing","controls","light","volume","muted","played","loaded","duration","playbackRate","loop","currVidIndex","findIndex","video","videoId","onEnded","length","onPaused","onPlayed","onPause","onPlay","onNext","onPrev","loading"],"mappings":"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","sourcesContent":["import ReactPlayer from \"react-player\";\nimport { useState, useEffect, useContext } from \"react\";\nimport Playbar from \"./Playbar\";\nimport loading from \"../../asset/images/loading.svg\";\nimport Box from \"@material-ui/core/Box\";\nimport { AppProvider } from \"../../Context/AppProvider\";\n\nconst VideoPlay = ({ activeVideoId, mainVideo, nextActive }) => {\n   const urlUtube = \"https://www.youtube.com/watch?v=\";\n   const { videos } = useContext(AppProvider);\n   const [activeVideo, setActiveVideo] = useState({\n      url: null,\n      pip: false,\n      playing: false,\n      controls: false,\n      light: false,\n      volume: 0.8,\n      muted: false,\n      played: 0,\n      loaded: 0,\n      duration: 0,\n      playbackRate: 1.0,\n      loop: false,\n   });\n\n   useEffect(() => {\n      setActiveVideo({\n         ...activeVideo,\n         url: `https://www.youtube.com/watch?v=${activeVideoId}`,\n      });\n   }, [activeVideoId]);\n\n   const currVidIndex = mainVideo.findIndex(\n      (video) => urlUtube + video.videoId === activeVideo.url\n   );\n\n   const onEnded = () => {\n      if (currVidIndex < mainVideo.length) {\n         setActiveVideo({\n            ...activeVideo,\n            url: mainVideo[currVidIndex + 1]\n               ? urlUtube + mainVideo[currVidIndex + 1].videoId\n               : urlUtube + mainVideo[0].videoId,\n         });\n      }\n      nextActive(\n         mainVideo[currVidIndex + 1]\n            ? mainVideo[currVidIndex + 1].videoId\n            : mainVideo[0].videoId\n      );\n   };\n\n   const onPaused = () => {\n      setActiveVideo({ ...activeVideo, playing: false });\n   };\n\n   const onPlayed = () => {\n      setActiveVideo({ ...activeVideo, playing: true });\n   };\n\n   const onPause = () => {\n      setActiveVideo({ ...activeVideo, playing: false });\n   };\n\n   const onPlay = () => {\n      if (mainVideo.length > 0) {\n         if (activeVideoId) {\n            setActiveVideo({ ...activeVideo, playing: true });\n         } else {\n            setActiveVideo({\n               ...activeVideo,\n               url: urlUtube + mainVideo[0].videoId,\n               playing: true,\n            });\n            nextActive(mainVideo[0].videoId);\n         }\n      }\n   };\n\n   const onNext = () => {\n      setActiveVideo({\n         ...activeVideo,\n         url: mainVideo[currVidIndex + 1]\n            ? urlUtube + mainVideo[currVidIndex + 1].videoId\n            : null,\n      });\n      nextActive(\n         mainVideo[currVidIndex + 1]\n            ? mainVideo[currVidIndex + 1].videoId\n            : mainVideo[0].videoId\n      );\n   };\n\n   const onPrev = () => {\n      if (currVidIndex > 0) {\n         setActiveVideo({\n            ...activeVideo,\n            url: mainVideo[currVidIndex - 1]\n               ? urlUtube + mainVideo[currVidIndex - 1].videoId\n               : null,\n         });\n      }\n      nextActive(\n         mainVideo[currVidIndex - 1]\n            ? mainVideo[currVidIndex - 1].videoId\n            : mainVideo[0].videoId\n      );\n   };\n\n   return (\n      <>\n         {activeVideoId ? (\n            <ReactPlayer\n               width=\"100%\"\n               height=\"250px\"\n               url={activeVideo.url}\n               pip={activeVideo.pip}\n               playing={activeVideo.playing}\n               controls={activeVideo.controls}\n               light={activeVideo.light}\n               volume={activeVideo.volume}\n               muted={activeVideo.muted}\n               played={activeVideo.played}\n               loaded={activeVideo.loaded}\n               duration={activeVideo.duration}\n               playbackRate={activeVideo.playbackRate}\n               loop={activeVideo.loop}\n               onEnded={onEnded}\n               onPause={onPaused}\n               onPlay={onPlayed}\n            />\n         ) : (\n            <Box\n               padding=\"20px\"\n               display=\"flex\"\n               justifyContent=\"center\"\n               height=\"250px\"\n               border=\"1px solid #f9982d\"\n            >\n               <img src={loading} alt=\"loading\" />\n            </Box>\n         )}\n         <Playbar\n            activeVideo={activeVideo}\n            onPrev={onPrev}\n            onNext={onNext}\n            onPause={onPause}\n            onPlay={onPlay}\n         />\n      </>\n   );\n};\n\nexport default VideoPlay;\n"]},"metadata":{},"sourceType":"module"}