{"ast":null,"code":"var _jsxFileName = \"/home/jackymad/reacjs/efe-music/src/components/VideoPlay.js\",\n    _s = $RefreshSig$();\n\nimport ReactPlayer from \"react-player\";\nimport { useState, useEffect } from 'react';\nimport Playbar from './Playbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst VideoPlay = ({\n  activeVideoId,\n  mainVideo,\n  nextActive\n}) => {\n  _s();\n\n  const urlUtube = 'https://www.youtube.com/watch?v=';\n  const [activeVideo, setActiveVideo] = useState({\n    url: null,\n    pip: false,\n    playing: false,\n    controls: false,\n    light: false,\n    volume: 0.8,\n    muted: false,\n    played: 0,\n    loaded: 0,\n    duration: 0,\n    playbackRate: 1.0,\n    loop: false\n  });\n  useEffect(() => {\n    setActiveVideo({ ...activeVideo,\n      url: `https://www.youtube.com/watch?v=${activeVideoId}`\n    });\n  }, [activeVideoId]);\n  const currVidIndex = mainVideo.findIndex(video => urlUtube + video.videoId === activeVideo.url);\n\n  const onEnded = () => {\n    if (currVidIndex < mainVideo.length) {\n      setActiveVideo({ ...activeVideo,\n        url: mainVideo[currVidIndex + 1] ? urlUtube + mainVideo[currVidIndex + 1].videoId : urlUtube + mainVideo[0].videoId\n      });\n    }\n\n    nextActive(mainVideo[currVidIndex + 1] ? mainVideo[currVidIndex + 1].videoId : mainVideo[0].videoId);\n  };\n\n  const onPaused = () => {\n    setActiveVideo({ ...activeVideo,\n      playing: false\n    });\n  };\n\n  const onPlayed = () => {\n    setActiveVideo({ ...activeVideo,\n      playing: true\n    });\n  };\n\n  const onPause = () => {\n    setActiveVideo({ ...activeVideo,\n      playing: false\n    });\n  };\n\n  const onPlay = () => {\n    if (activeVideoId) {\n      setActiveVideo({ ...activeVideo,\n        playing: true\n      });\n    } else {\n      setActiveVideo({ ...activeVideo,\n        url: urlUtube + mainVideo[0].videoId,\n        playing: true\n      });\n      nextActive(mainVideo[0].videoId);\n    }\n  };\n\n  const onNext = () => {\n    setActiveVideo({ ...activeVideo,\n      url: mainVideo[currVidIndex + 1] ? urlUtube + mainVideo[currVidIndex + 1].videoId : null\n    });\n    nextActive(mainVideo[currVidIndex + 1] ? mainVideo[currVidIndex + 1].videoId : mainVideo[0].videoId);\n  };\n\n  const onPrev = () => {\n    if (currVidIndex > 0) {\n      setActiveVideo({ ...activeVideo,\n        url: mainVideo[currVidIndex - 1] ? urlUtube + mainVideo[currVidIndex - 1].videoId : null\n      });\n    }\n\n    nextActive(mainVideo[currVidIndex - 1] ? mainVideo[currVidIndex - 1].videoId : mainVideo[0].videoId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ReactPlayer, {\n      width: \"100%\",\n      height: \"250px\",\n      url: activeVideo.url,\n      pip: activeVideo.pip,\n      playing: activeVideo.playing,\n      controls: activeVideo.controls,\n      light: activeVideo.light,\n      volume: activeVideo.volume,\n      muted: activeVideo.muted,\n      played: activeVideo.played,\n      loaded: activeVideo.loaded,\n      duration: activeVideo.duration,\n      playbackRate: activeVideo.playbackRate,\n      loop: activeVideo.loop,\n      onEnded: onEnded,\n      onPause: onPaused,\n      onPlay: onPlayed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Playbar, {\n      activeVideo: activeVideo,\n      onPrev: onPrev,\n      onNext: onNext,\n      onPause: onPause,\n      onPlay: onPlay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VideoPlay, \"bNIPTmNnJtN9w5HRmvi/B8TiOvE=\");\n\n_c = VideoPlay;\nexport default VideoPlay;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoPlay\");","map":{"version":3,"sources":["/home/jackymad/reacjs/efe-music/src/components/VideoPlay.js"],"names":["ReactPlayer","useState","useEffect","Playbar","VideoPlay","activeVideoId","mainVideo","nextActive","urlUtube","activeVideo","setActiveVideo","url","pip","playing","controls","light","volume","muted","played","loaded","duration","playbackRate","loop","currVidIndex","findIndex","video","videoId","onEnded","length","onPaused","onPlayed","onPause","onPlay","onNext","onPrev"],"mappings":"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","sourcesContent":["import ReactPlayer from \"react-player\";\nimport { useState,useEffect } from 'react'\nimport Playbar from './Playbar'\n\nconst VideoPlay = ({activeVideoId, mainVideo, nextActive}) => {\n    const urlUtube = 'https://www.youtube.com/watch?v='; \n\n    const [activeVideo, setActiveVideo] = useState({\n        url: null,\n        pip: false,\n        playing: false,\n        controls: false,\n        light: false,\n        volume: 0.8,\n        muted: false,\n        played: 0,\n        loaded: 0,\n        duration: 0,\n        playbackRate: 1.0,\n        loop: false\n    });\n\n    useEffect(() => {\n        setActiveVideo({...activeVideo, url: `https://www.youtube.com/watch?v=${activeVideoId}`})\n    }, [activeVideoId])\n\n    const currVidIndex = mainVideo.findIndex(\n        (video) => urlUtube+video.videoId === activeVideo.url\n    );\n    \n    const onEnded = () => {\n        \n        if (currVidIndex < mainVideo.length) {\n          setActiveVideo({\n            ...activeVideo,\n            url: mainVideo[currVidIndex + 1]\n            ? urlUtube+mainVideo[currVidIndex + 1].videoId\n            : urlUtube+mainVideo[0].videoId\n          });\n        }\n        nextActive((mainVideo[currVidIndex + 1]) ? mainVideo[currVidIndex + 1].videoId : mainVideo[0].videoId );\n    };\n\n    const onPaused = () => {\n        setActiveVideo({...activeVideo,playing: false})\n    }\n\n    const onPlayed = () => {\n        setActiveVideo({...activeVideo,playing: true})\n    }\n\n    const onPause = () => {\n        setActiveVideo({...activeVideo,playing: false})\n    }\n\n    const onPlay = () => {\n        if(activeVideoId){\n            setActiveVideo({...activeVideo,playing: true})\n        } else {\n            setActiveVideo({...activeVideo,url: urlUtube + mainVideo[0].videoId,playing: true})\n            nextActive(mainVideo[0].videoId)\n        }\n    }\n\n\n    const onNext = () => {\n        setActiveVideo({\n            ...activeVideo,\n            url: mainVideo[currVidIndex + 1]\n              ? urlUtube+mainVideo[currVidIndex + 1].videoId\n              : null\n        });\n        nextActive((mainVideo[currVidIndex + 1]) ? mainVideo[currVidIndex + 1].videoId : mainVideo[0].videoId );\n    } \n\n    const onPrev = () => {\n        if(currVidIndex > 0){\n            setActiveVideo({\n                ...activeVideo,\n                url: mainVideo[currVidIndex - 1]\n                  ? urlUtube+mainVideo[currVidIndex - 1].videoId\n                  : null\n            });   \n        }\n        nextActive((mainVideo[currVidIndex - 1]) ? mainVideo[currVidIndex - 1].videoId : mainVideo[0].videoId );\n    }\n\n\n    return (\n        <>\n            <ReactPlayer\n                width=\"100%\"\n                height=\"250px\"\n                url={activeVideo.url}\n                pip={activeVideo.pip}\n                playing={activeVideo.playing}\n                controls={activeVideo.controls}\n                light={activeVideo.light}\n                volume={activeVideo.volume}\n                muted={activeVideo.muted}\n                played={activeVideo.played}\n                loaded={activeVideo.loaded}\n                duration={activeVideo.duration}\n                playbackRate={activeVideo.playbackRate}\n                loop={activeVideo.loop}\n                onEnded={(onEnded)}\n                onPause={(onPaused)}\n                onPlay ={(onPlayed)}\n            />   \n            <Playbar  activeVideo={activeVideo} onPrev={onPrev} onNext={onNext} onPause={onPause} onPlay={onPlay} />\n        </>\n    )\n}\n\nexport default VideoPlay\n"]},"metadata":{},"sourceType":"module"}